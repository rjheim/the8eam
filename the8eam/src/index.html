<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>TuneIn Madison</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script>

    // This Script removes and adds scrolling on the body when the modal is open/closed
    function noScroll() {
        var el = document.getElementById("feedback-modal");
        if (el) {
          //setTimeout(function(){document.body.classList.add("noScrollForYou")}, 10);
          document.body.classList.add("noScrollForYou");
        }
        else {
          //setTimeout(function(){document.body.classList.remove("noScrollForYou")}, 100);
          document.body.classList.remove("noScrollForYou");
        }
    };

    window.addEventListener("click",noScroll);


    // This Script prevents "sticky hovering" on mobile devices when using :hover pseudo element
    (function(){
      var isTouch = false;//var to indicate current input type (is touch versus no touch)
      var isTouchTimer;
      var curRootClass = '' ;//var indicating current document root class ("can-touch" or "")

      function addtouchclass(e){
        clearTimeout(isTouchTimer);
        isTouch = true;
        if (curRootClass != 'can-touch'){ //add "can-touch' class if it's not already present
          curRootClass = 'can-touch';
          document.documentElement.classList.add(curRootClass)
        }
        //maintain "istouch" state for 1001ms so removetouchclass doesn't get fired immediately following a touch event
        isTouchTimer = setTimeout(function(){isTouch = false}, 1001) // 1001 because some devices use onLongPress event which lasts 1000ms
      }

      function removetouchclass(e){
        if (!isTouch && curRootClass == 'can-touch'){ //remove 'can-touch' class if not triggered by a touch event and class is present
          isTouch = false;
          curRootClass = '';
          document.documentElement.classList.remove('can-touch')
        }
      }

      document.addEventListener('touchstart', addtouchclass, false) //this event only gets called when input type is touch
      document.addEventListener('mouseover', removetouchclass, false) //this event gets called when input type is everything from touch to mouse/ trackpad
    })();
  </script>
</head>
<body>
  <!-- This is where our app's html is injected into the DOM -->
  <app-root></app-root>
</body>
</html>
